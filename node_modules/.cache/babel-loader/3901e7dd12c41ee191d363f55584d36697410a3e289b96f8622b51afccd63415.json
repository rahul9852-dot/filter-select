{"ast":null,"code":"var _jsxFileName = \"/Users/rahul/Desktop/filter-select/src/components/SearchBox.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport UserCard from './UserCard';\nimport \"./global.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBox(_ref) {\n  _s();\n  let {\n    users\n  } = _ref;\n  const [searchQuery, setSearchQuery] = useState('');\n  const [matchingUsers, setMatchingUsers] = useState([]);\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const [isMouseHovered, setIsMouseHovered] = useState(false);\n  const [isMousePreferred, setIsMousePreferred] = useState(false);\n  const [isKeywordPreferred, setIsKeywordPreferred] = useState(true);\n  const inputRef = useRef(null);\n  const cardContainerRef = useRef(null);\n  useEffect(() => {\n    // Function to perform search\n    const performSearch = () => {\n      const query = searchQuery.toLowerCase();\n      const matching = users.filter(user => user.id.toString().includes(query) || user.name.toLowerCase().includes(query) || user.address.toLowerCase().includes(query) || user.pincode.includes(query) || user.items.some(item => item.toLowerCase().includes(query)));\n      setMatchingUsers(matching);\n      setActiveIndex(-1);\n    };\n    performSearch();\n  }, [searchQuery, users]);\n  useEffect(() => {\n    // Scroll the active card into view\n    if (activeIndex >= 0 && cardContainerRef.current) {\n      const activeCard = cardContainerRef.current.querySelector('.active');\n      if (activeCard) {\n        activeCard.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    }\n  }, [activeIndex]);\n  const handleInputChange = event => {\n    setSearchQuery(event.target.value);\n  };\n  const handleCardClick = index => {\n    setActiveIndex(index);\n  };\n  const handleCardMouseEnter = index => {\n    if (activeIndex === -1) {\n      setActiveIndex(index);\n    }\n  };\n  const handleKeyDown = event => {\n    const {\n      keyCode\n    } = event;\n    if (keyCode === 38 && activeIndex > 0) {\n      // Up arrow key\n      setActiveIndex(activeIndex - 1);\n    } else if (keyCode === 40 && activeIndex < matchingUsers.length - 1) {\n      // Down arrow key\n      setActiveIndex(activeIndex + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"search-input\",\n      type: \"text\",\n      value: searchQuery,\n      onChange: handleInputChange,\n      onKeyDown: handleKeyDown,\n      placeholder: \"Search users by ID, address, name, pin...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-container\",\n      ref: cardContainerRef,\n      children: matchingUsers.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-card empty\",\n        children: \"No results found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }, this) : matchingUsers.map((user, index) => /*#__PURE__*/_jsxDEV(UserCard, {\n        user: user,\n        isActive: index === activeIndex,\n        onClick: () => handleCardClick(index),\n        onMouseEnter: () => handleCardMouseEnter(index),\n        searchQuery: searchQuery\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 23\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 13\n  }, this);\n}\n_s(SearchBox, \"A1oEScWESGIFGmek5xqDROSGKyI=\");\n_c = SearchBox;\n;\nexport default SearchBox;\nvar _c;\n$RefreshReg$(_c, \"SearchBox\");","map":{"version":3,"names":["React","useState","useEffect","useRef","UserCard","jsxDEV","_jsxDEV","SearchBox","_ref","_s","users","searchQuery","setSearchQuery","matchingUsers","setMatchingUsers","activeIndex","setActiveIndex","isMouseHovered","setIsMouseHovered","isMousePreferred","setIsMousePreferred","isKeywordPreferred","setIsKeywordPreferred","inputRef","cardContainerRef","performSearch","query","toLowerCase","matching","filter","user","id","toString","includes","name","address","pincode","items","some","item","current","activeCard","querySelector","scrollIntoView","behavior","block","handleInputChange","event","target","value","handleCardClick","index","handleCardMouseEnter","handleKeyDown","keyCode","length","className","children","type","onChange","onKeyDown","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","ref","map","isActive","onClick","onMouseEnter","_c","$RefreshReg$"],"sources":["/Users/rahul/Desktop/filter-select/src/components/SearchBox.js"],"sourcesContent":["import React, { useState,useEffect,useRef} from 'react'\nimport UserCard from './UserCard';\nimport \"./global.css\";\n\n\nfunction SearchBox({users}) {\n        const [searchQuery, setSearchQuery] = useState('');\n        const [matchingUsers, setMatchingUsers] = useState([]);\n        const [activeIndex, setActiveIndex] = useState(-1);\n        const [isMouseHovered, setIsMouseHovered] = useState(false);\n        const [isMousePreferred, setIsMousePreferred] = useState(false);\n        const [isKeywordPreferred, setIsKeywordPreferred] = useState(true);\n        const inputRef = useRef(null);\n        const cardContainerRef = useRef(null);\n      \n        useEffect(() => {\n          // Function to perform search\n          const performSearch = () => {\n            const query = searchQuery.toLowerCase();\n            const matching = users.filter(\n              (user) =>\n                user.id.toString().includes(query) ||\n                user.name.toLowerCase().includes(query) ||\n                user.address.toLowerCase().includes(query) ||\n                user.pincode.includes(query) ||\n                user.items.some((item) => item.toLowerCase().includes(query))\n            );\n            setMatchingUsers(matching);\n            setActiveIndex(-1);\n          };\n      \n          performSearch();\n        }, [searchQuery, users]);\n      \n        useEffect(() => {\n          // Scroll the active card into view\n          if (activeIndex >= 0 && cardContainerRef.current) {\n            const activeCard = cardContainerRef.current.querySelector('.active');\n            if (activeCard) {\n              activeCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n            }\n          }\n        }, [activeIndex]);\n      \n        const handleInputChange = (event) => {\n          setSearchQuery(event.target.value);\n        };\n      \n        const handleCardClick = (index) => {\n          setActiveIndex(index);\n        };\n      \n        const handleCardMouseEnter = (index) => {\n          if (activeIndex === -1) {\n            setActiveIndex(index);\n          }\n        };\n      \n        const handleKeyDown = (event) => {\n          const { keyCode } = event;\n          if (keyCode === 38 && activeIndex > 0) {\n            // Up arrow key\n            setActiveIndex(activeIndex - 1);\n          } else if (keyCode === 40 && activeIndex < matchingUsers.length - 1) {\n            // Down arrow key\n            setActiveIndex(activeIndex + 1);\n          }\n        };\n\n        return(\n            <div className='container'>\n              <input \n                  className='search-input' \n                  type=\"text\" \n                  value={searchQuery} \n                  onChange={handleInputChange} \n                  onKeyDown={handleKeyDown} \n                  placeholder='Search users by ID, address, name, pin...'\n              />\n              {searchQuery && (\n                  <div className=\"card-container\" ref={cardContainerRef}>\n                  {matchingUsers.length === 0 ? (\n                      <div className=\"user-card empty\">No results found</div>\n                  ) : (\n                      matchingUsers.map((user, index) => (\n                      <UserCard\n                          key={user.id}\n                          user={user}\n                          isActive={index === activeIndex}\n                          onClick={() => handleCardClick(index)}\n                          onMouseEnter={() => handleCardMouseEnter(index)}\n                          searchQuery={searchQuery}\n                      />\n                      ))\n                  )}\n                  </div>\n            )}\n          </div>\n        )};\n\nexport default SearchBox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}